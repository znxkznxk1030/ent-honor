{"version":3,"sources":["mock-data/actors.js","VoteModal/warn-modal.jsx","Firebase/index.js","VoteModal/vote-modal.jsx","Vote/vote.jsx"],"names":["actors","id","name","nickname","src","comment","actorBgImgList","WarnModal","className","this","props","title","message","onClick","onClose","React","Component","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","VoteModal","selectedActor","onConfirm","onReject","customStyles","content","top","left","right","bottom","marginRight","transform","width","height","padding","Modal","setAppElement","Vote","state","selectedActorId","modalIsOpen","uid","isReady","isDuplicated","a","voteRef","collection","initializeUid","Promise","resolve","reject","setState","e","target","value","preventDefault","candidateId","add","voteId","episode","createdAt","Date","toISOString","closeModal","map","actor","type","onChange","onChangeValue","bind","checked","htmlFor","openModal","isOpen","onRequestClose","style","contentLabel","ariaHideApp","vote"],"mappings":"mHAAA,wEAAMA,EAAS,CACb,CACEC,GAAI,IACJC,KAAM,uBACNC,SAAU,4BACVC,IAAK,mDACLC,QAAS,sCAEX,CACEJ,GAAI,IACJC,KAAM,uBACNC,SAAU,uBACVC,IAAK,gDACLC,QAAS,4CAEX,CACEJ,GAAI,IACJC,KAAM,uBACNC,SAAU,uBACVC,IAAK,iDACLC,QAAS,iCAEX,CACEJ,GAAI,IACJC,KAAM,gBACNC,SAAU,uBACVC,IAAK,iDACLC,QAAS,sCAEX,CACEJ,GAAI,IACJC,KAAM,uBACNC,SAAU,uBACVC,IAAK,mDACLC,QAAS,4CAEX,CACEJ,GAAI,IACJC,KAAM,gBACNC,SAAU,iCACVC,IAAK,gDACLC,QAAS,wBAIPC,EAAiB,CACrB,CACEF,IAAK,kDAEP,CACEA,IAAK,iDAEP,CACEA,IAAK,kDAEP,CACEA,IAAK,kDAEP,CACEA,IAAK,iDAEP,CACEA,IAAK,mD,uHC3DHG,E,4JACJ,WACE,OACE,sBAAKC,UAAU,gBAAf,UACE,qBAAKA,UAAU,eAAf,SACE,mCAAMC,KAAKC,MAAMC,WAEnB,qBAAKH,UAAU,aAAf,SACGC,KAAKC,MAAME,UAEd,qBAAKJ,UAAU,eAAf,SACE,wBAAQK,QAASJ,KAAKC,MAAMI,QAA5B,6B,GAXcC,IAAMC,WAkBfT,O,gCCrBf,oDAGAU,IAASC,cAAc,CACrBC,OAAQ,0CACRC,WAAY,8BACZC,YAAa,kDACbC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,8CAGF,IAGMC,EAAYT,IAASS,a,wLCMnBC,E,4JAlBb,WACE,OACE,sBAAKnB,UAAU,gBAAf,UACE,qBAAKA,UAAU,eAAf,SACE,0EAEF,sBAAKA,UAAU,aAAf,6EACgB,mCAAMC,KAAKC,MAAMkB,cAAjB,OADhB,0BAGA,sBAAKpB,UAAU,eAAf,UACE,wBAAQK,QAASJ,KAAKC,MAAMmB,UAA5B,oBACA,wBAAQhB,QAASJ,KAAKC,MAAMoB,SAA5B,0C,GAZcf,IAAMC,W,wBCQxBe,EAAe,CACnBC,QAAS,CACPC,IAAK,MACLC,KAAM,MACNC,MAAO,OACPC,OAAQ,OACRC,YAAa,OACbC,UAAW,wBACXC,MAAO,QACPC,OAAQ,QACRC,QAAS,QAIbC,IAAMC,cAAc,S,IACdC,E,kDACJ,WAAYlC,GAAQ,IAAD,8BACjB,cAAMA,IAEDmC,MAAQ,CACX7C,WACA8C,iBAAkB,EAClBC,aAAa,EACbC,IAAK,GACLC,SAAS,EACTC,cAAc,GATC,E,4FAanB,sBAAAC,EAAA,6DACE1C,KAAKiB,UAAYA,IACjBjB,KAAK2C,QAAU3C,KAAKiB,UAAU2B,WAAW,UAF3C,SAIQ5C,KAAK6C,gBAJb,gD,iFAOA,WAAiB,IAAD,OACd,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,EAAKC,SAAS,CAAEV,IAAKA,cAAOC,SAAS,IAAQ,WAC3CO,Y,2BAKN,SAAcG,GAEZlD,KAAKiD,SAAS,CAAEZ,gBAAiBa,EAAEC,OAAOC,U,uBAG5C,SAAUF,GACRA,EAAEG,kBACkC,IAAhCrD,KAAKoC,MAAMC,iBACfrC,KAAKiD,SAAS,CAAEX,aAAa,M,wBAG/B,WACEtC,KAAKiD,SAAS,CAAEX,aAAa,M,yDAG/B,WAAWY,GAAX,uBAAAR,EAAA,yDACEQ,EAAEG,iBADJ,EAOMrD,KAAKoC,MAJUkB,EAHrB,EAGIjB,gBACAG,EAJJ,EAIIA,QACAD,EALJ,EAKIA,IACAE,EANJ,EAMIA,cAGmB,IAAjBa,GAAuBd,IAAWC,EATxC,iEAaQzC,KAAK2C,QAAQY,IAAI,CACrBD,cACAE,OAAQ,SACRC,QAAS,IACTlB,MACAmB,WAAW,IAAIC,MAAOC,gBAlB1B,OAqBE5D,KAAKiD,SAAS,CAAER,cAAc,IAC9BzC,KAAK6D,aAtBP,gD,2EAyBA,WAAU,IAAD,OACP,OACE,sBAAK9D,UAAU,kBAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,mBAAGA,UAAU,aAAb,0BACA,wJAEF,qBAAKA,UAAU,YAAf,SACE,iCACGC,KAAKoC,MAAM7C,OAAOuE,KAAI,SAACC,GACtB,IAAM1B,EAAkB,EAAKD,MAAMC,gBACnC,OACE,sBAAKtC,UAAU,YAAf,UACE,uBACEiE,KAAK,QACLxE,GAAIuE,EAAMvE,GACVC,KAAMsE,EAAMtE,KACZ2D,MAAOW,EAAMvE,GAEbyE,SAAU,EAAKC,cAAcC,KAAK,GAClCC,QAAS/B,IAAoB0B,EAAMvE,IAF9BuE,EAAMvE,IAIb,uBAAO6E,QAASN,EAAMvE,GAAtB,SAA2BuE,EAAMtE,OACjC,yBAX8BsE,EAAMvE,OAgB1C,wBACEO,UAAU,mBACVK,QAASJ,KAAKsE,UAAUH,KAAKnE,MAF/B,gCAQJ,cAAC,IAAD,CACEuE,OAAQvE,KAAKoC,MAAME,YACnBkC,eAAgBxE,KAAK6D,WAAWM,KAAKnE,MACrCyE,MAAOnD,EACPoD,aAAa,gBACbC,aAAa,EALf,SAOG3E,KAAKoC,MAAMK,aACV,cAAC,IAAD,CAAWpC,QAASL,KAAK6D,WAAWM,KAAKnE,MACzCE,MAAO,wCACPC,QAAS,6DAET,cAAC,EAAD,CACEiB,UAAWpB,KAAK4E,KAAKT,KAAKnE,MAC1BqB,SAAUrB,KAAK6D,WAAWM,KAAKnE,MAC/BmB,cACEnB,KAAKoC,MAAMC,gBAAkB,EACzB9C,IAAOS,KAAKoC,MAAMC,gBAAkB,GAAG5C,KACvC,c,GA3HDa,IAAMC,WAqIV4B","file":"static/js/4.6da7945d.chunk.js","sourcesContent":["const actors = [\n  {\n    id: \"1\",\n    name: \"강 호 동\",\n    nickname: \"아기 돼지\",\n    src: \"https://assets.codepen.io/1328906/kang-001_1.png\",\n    comment: \"& 이래도 되나?\",\n  },\n  {\n    id: \"2\",\n    name: \"김 종 민\",\n    nickname: \"김 종 문\",\n    src: \"https://assets.codepen.io/1328906/min-001.png\",\n    comment: \"& 찾은거 같은데?\",\n  },\n  {\n    id: \"3\",\n    name: \"김 동 현\",\n    nickname: \"김 호 들\",\n    src: \"https://assets.codepen.io/1328906/hyun-001.png\",\n    comment: \"호 들 & 호 들\",\n  },\n  {\n    id: \"4\",\n    name: \"신 동\",\n    nickname: \"신 대 장\",\n    src: \"https://assets.codepen.io/1328906/dong-001.png\",\n    comment: \"보이시나요? & \",\n  },\n  {\n    id: \"5\",\n    name: \"유 병 재\",\n    nickname: \"유 느 님\",\n    src: \"https://assets.codepen.io/1328906/you-001png.png\",\n    comment: \"제가 해 볼게요 &\",\n  },\n  {\n    id: \"6\",\n    name: \"피 오\",\n    nickname: \"프로보필러\",\n    src: \"https://assets.codepen.io/1328906/pio-001.png\",\n    comment: \"형... 형! &\",\n  },\n];\n\nconst actorBgImgList = [\n  {\n    src: \"https://assets.codepen.io/1328906/kang-002.png\",\n  },\n  {\n    src: \"https://assets.codepen.io/1328906/min-002.png\",\n  },\n  {\n    src: \"https://assets.codepen.io/1328906/hyun-002.png\",\n  },\n  {\n    src: \"https://assets.codepen.io/1328906/dong-002.png\",\n  },\n  {\n    src: \"https://assets.codepen.io/1328906/you-003.png\",\n  },\n  {\n    src: \"https://assets.codepen.io/1328906/pio-002.png\",\n  },\n];\n\nexport { actors, actorBgImgList };\n","import React from \"react\";\nimport \"./style-vote-modal.scss\";\n\nclass WarnModal extends React.Component {\n  render() {\n    return (\n      <div className=\"modal-wrapper\">\n        <div className=\"modal-header\">\n          <h2> {this.props.title}</h2>\n        </div>\n        <div className=\"modal-body\">\n          {this.props.message}\n        </div>\n        <div className=\"modal-footer\">\n          <button onClick={this.props.onClose}>네</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default WarnModal;\n","import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyDtWWsADaITFWHm_r80wWsrVvSr_sDfrAo\",\n  authDomain: \"great-award.firebaseapp.com\",\n  databaseURL: \"https://great-award-default-rtdb.firebaseio.com\",\n  projectId: \"great-award\",\n  storageBucket: \"great-award.appspot.com\",\n  messagingSenderId: \"947294552913\",\n  appId: \"1:947294552913:web:f7cdaa4730cb4c4c5ac970\",\n});\n\nexport const getTimestamp = () => {\n  return firebase.firestore.fieldValue.getTimestamp();\n};\nexport const firestore = firebase.firestore();\n","import React from \"react\";\nimport \"./style-vote-modal.scss\";\n\nclass VoteModal extends React.Component {\n  render() {\n    return (\n      <div className=\"modal-wrapper\">\n        <div className=\"modal-header\">\n          <h2> 대탈출 대투표</h2>\n        </div>\n        <div className=\"modal-body\">\n          가장 많이 활약한 멤버는 <h2> {this.props.selectedActor} </h2> 맞나요?\n        </div>\n        <div className=\"modal-footer\">\n          <button onClick={this.props.onConfirm}>네</button>\n          <button onClick={this.props.onReject}>아니요</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default VoteModal;\n","import React from \"react\";\nimport \"./style-vote.scss\";\n\nimport { actors } from \"../mock-data/actors\";\nimport Modal from \"react-modal\";\nimport VoteModal from \"../VoteModal/vote-modal\";\nimport WarnModal from \"../VoteModal/warn-modal\";\n\nimport { firestore } from \"../Firebase\";\nimport { uid } from \"uid\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"320px\",\n    height: \"180px\",\n    padding: \"0px\",\n  },\n};\n\nModal.setAppElement(\"#root\");\nclass Vote extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      actors,\n      selectedActorId: -1,\n      modalIsOpen: false,\n      uid: \"\",\n      isReady: false,\n      isDuplicated: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.firestore = firestore;\n    this.voteRef = this.firestore.collection(\"ballot\");\n\n    await this.initializeUid();\n  }\n\n  initializeUid() {\n    return new Promise((resolve, reject) => {\n      this.setState({ uid: uid(), isReady: true }, () => {\n        resolve();\n      });\n    });\n  }\n\n  onChangeValue(e) {\n    // console.log(e.target.value);\n    this.setState({ selectedActorId: e.target.value });\n  }\n\n  openModal(e) {\n    e.preventDefault();\n    if (this.state.selectedActorId === -1) return;\n    this.setState({ modalIsOpen: true });\n  }\n\n  closeModal() {\n    this.setState({ modalIsOpen: false });\n  }\n\n  async vote(e) {\n    e.preventDefault();\n    const {\n      selectedActorId: candidateId,\n      isReady,\n      uid,\n      isDuplicated,\n    } = this.state;\n\n    if (candidateId === -1 || !isReady || isDuplicated) {\n      return;\n    }\n\n    await this.voteRef.add({\n      candidateId,\n      voteId: \"vote-1\",\n      episode: \"1\",\n      uid,\n      createdAt: new Date().toISOString(),\n    });\n\n    this.setState({ isDuplicated: true });\n    this.closeModal();\n  }\n\n  render() {\n    return (\n      <div className=\"vote-background\">\n        <div className=\"vote-question\">\n          <p className=\"vote-title\"> 7 / 11 ??? </p>\n          <p> 이번주 가장 많이 활약한 멤버는 누구인가요? </p>\n        </div>\n        <div className=\"container\">\n          <form>\n            {this.state.actors.map((actor) => {\n              const selectedActorId = this.state.selectedActorId;\n              return (\n                <div className=\"vote-item\" key={actor.id}>\n                  <input\n                    type=\"radio\"\n                    id={actor.id}\n                    name={actor.name}\n                    value={actor.id}\n                    key={actor.id}\n                    onChange={this.onChangeValue.bind(this)}\n                    checked={selectedActorId === actor.id}\n                  ></input>\n                  <label htmlFor={actor.id}>{actor.name}</label>\n                  <br></br>\n                </div>\n              );\n            })}\n\n            <button\n              className=\"vote-btn--submit\"\n              onClick={this.openModal.bind(this)}\n            >\n              제 출\n            </button>\n          </form>\n        </div>\n        <Modal\n          isOpen={this.state.modalIsOpen}\n          onRequestClose={this.closeModal.bind(this)}\n          style={customStyles}\n          contentLabel=\"Example Modal\"\n          ariaHideApp={false}\n        >\n          {this.state.isDuplicated ? (\n            <WarnModal onClose={this.closeModal.bind(this)}\n            title={\"대탈출 대투표\"}\n            message={\"이미 투표하였습니다.\"} />\n          ) : (\n            <VoteModal\n              onConfirm={this.vote.bind(this)}\n              onReject={this.closeModal.bind(this)}\n              selectedActor={\n                this.state.selectedActorId > 0\n                  ? actors[this.state.selectedActorId - 1].name\n                  : \"\"\n              }\n            />\n          )}\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default Vote;\n"],"sourceRoot":""}